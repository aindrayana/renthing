
<div class="panel panel-default top-30">
  <div class="panel-heading">List your item</div>
  <div class="panel-body">
    <%= form_for(@item, html: {class: "form-horizontal", role: "form"}) do |f| %>
      <% if @item.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@item.errors.count, "error") %> prohibited this item from being saved:</h2>

          <ul>
          <% @item.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-group">
        <%= f.label :title, "Listing Name", class: "control-label col-sm-2" %>
        <div class="col-sm-10">
          <%= f.text_field :title, class: "form-control" %>
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="item_title">Category</label>
        <div class="col-sm-10">
          <%#= f.select(:category_id, options_for_select(Category.all.order("body").map {|c| [c.body, c.id]}),
                { include_blank: true }, {class: "form-control chosen-select"}) %>
          <%#= f.select(:category_id, Category.all.order("body").map {|c| [c.body, c.id]},
                { include_blank: true }, {class: "form-control chosen-select"}) %>
          <%= f.collection_select(:category_id, Category.all.order("body"), :id, :body,
              { include_blank: true }, {class: 'form-control chosen-select'}) %>
          <%#= options_from_collection_for_select(Category.all.order("body"), :id, :body) %>
          <%#= f.select :category_id,
            Category.all.map { |u| [u.body, u.id] },
                         { include_blank: true },
                         { class: 'form-control chosen-select' }
          %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :description, class: "control-label col-sm-2" %>
        <div class="col-sm-10">
          <%= f.text_area :description, class: "form-control", placeholder: "item description", rows: "5" %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-2 text-right"><%= f.label :hourly_rate, "Rental rate",  class: "control-label" %></div>
        <div class="col-sm-10">
          <div class="col-sm-3">
            <%= f.label :hourly_rate, class: "control-label" %>
            <%= f.text_field :hourly_rate, class: "form-control" %>
          </div>
          <div class="col-sm-3">
            <%= f.label :daily_rate, class: "control-label" %>
            <%= f.text_field :daily_rate, class: "form-control" %>
          </div>
          <div class="col-sm-3">
            <%= f.label :weekly_rate, class: "control-label" %>
            <%= f.text_field :weekly_rate, class: "form-control" %>
          </div>
          <div class="col-sm-3">
            <%= f.label :monthly_rate, class: "control-label" %>
            <%= f.text_field :monthly_rate, class: "form-control" %>
          </div>
        </div>
      </div>

      <%= f.fields_for :images do |p| %>
       <div class="form-group">
         <div class="col-sm-2 text-right"><%= p.label :file_name, "Upload image",  class: "control-label" %></div>
         <div class="col-sm-10">
           <%= p.file_field :file_name, multiple: true, name: "images[file_name][]" %>
         </div>
       </div>
       <% end %>

      <div class="form-group">
        <div class="col-sm-2 text-right">
          <%= f.submit "Submit", class: "btn btn-primary" %>
        </div>
        <div class="col-sm-10">

        </div>
      </div>


    <% end %>

  </div>
</div>
